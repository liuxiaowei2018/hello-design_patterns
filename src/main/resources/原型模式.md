## 原型模式

>原型模式是一种克隆对象的方法。
>
>比如我们常用的的BeanUtils.copyProperties就是一种对象的**浅copy**
>
>实例化对象操作并不是特别耗费性能，所以在针对一些特殊场景我们还是需要克隆那些已经实例化的对象的：
>
>- 依赖外部资源或硬件密集型操作，比如数据库查询，或者一些存在IO操作的场景
>- 获取相同对象在相同状态的拷贝从而不需要重复创建获取状态的操作的情况

`类图`

![image-20220328115702616](resources/image-20220328115702616.png)

>- 第一个是抽象原型(prototype)声明clone方法，可以是接口可以是基类，在简单的场景下我们都可以不用基类直接具体类就可以了。
>- 第二个就是具体原型类(concreteprototype)实现或者扩展clone方法，当我们在具体的原型类中的对象方法时，就会返回一个基类的抽象原型对象

`实现`

![image-20220328120203552](resources/image-20220328120203552.png)

### 扩展

#### 浅拷贝和深拷贝

>- 浅拷贝：当拷贝对象只包含简单的数据类型比如int、float 或者不可变的对象（字符串）时，就直接将这些字段复制到新的对象中。而引用的对象并没有复制而是将引用对象的地址复制一份给克隆对象
>- 深拷贝：不管拷贝对象里面简单数据类型还是引用对象类型都是会完全的复制一份到新的对象中

>- 深拷贝(deep copy):SerializationUtils
>- 浅拷贝(shallow copy):BeanUtils

![image-20220328120417302](resources/image-20220328120417302.png)

